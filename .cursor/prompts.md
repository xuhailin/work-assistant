# 最小工作流水线
需求想法
  ↓
【通用模块生成器】
  ↓
生成一个模块模板
  ↓
【通用复核模块】
  ↓
人工修订模板
  ↓
按模板执行任务
  ↓
记录关键步骤


# 关键步骤记录

## 第一条：创建 AI 协作关键步骤记录模块

1. **阶段目标**：实现一套可复用的 AI 协作关键 Prompt 记录机制
2. **输入给 AI 的关键信息**：既然活动要求关键步骤记录，是否可以提前设计一个专门用于记录关键 Prompt 的 Skill 模块，用于持续记录与更新
3. **AI 的核心输出**：生成了"AI 协作关键步骤记录模块"prompt，定义了6个结构的记录格式（阶段目标、输入信息、核心输出、判断调整、价值、可复用性）
4. **我的判断与调整**：接受该方案，符合建立可复用记录框架的需求
5. **本步骤的价值**：建立了标准化的AI协作记录框架，支持后续所有prompt的规范化记录
6. **可复用性判断**：可迁移，适用于所有AI协作场景，记录格式可复用

---

## 第二条：完成第一次prompt记录

1. **阶段目标**：记录第一次prompt（生成记录模块的过程）到prompts.md
2. **输入给 AI 的关键信息**：要求记录第一次prompt，包含两条记录（创建记录模块的过程 + 本次记录过程），要求极简版本（50-100字概括）
3. **AI 的核心输出**：整理并记录了两条关键步骤记录，更新了记录模块prompt以支持极简版本要求
4. **我的判断与调整**：要求极简版本，特别好的prompt可原样保留
5. **本步骤的价值**：完成了第一次记录实践，验证了记录框架的可用性，建立了记录规范
6. **可复用性判断**：记录方法可应用于后续所有prompt记录场景

---

##  第三条：抽象并确认「模块生成 + 校验」作为通用 AI 使用策略

1. **阶段目标**：验证是否可以通过"生成模块 → 校验模块 → 使用模块"的流程，作为应对任意 AI Workshop 任务的通用方法。
2. **输入给 AI 的关键信息**：提出设想：使用通用模块生成器快速产出任务对应的模块模板，并通过复核模块进行校验与修订，以形成稳定、可复用的模块与使用流程。
3. **AI 的核心输出**：确认该思路本质是一个「Skill 工程闭环」，并指出重点在于 AI 的使用步骤与协作流程，而非具体任务内容，且高度符合 Workshop 对过程记录与复用性的要求。
4. **我的判断与调整**：认可该方法，并明确对外表达应聚焦"方法论与使用流程"，而非"系统或工具实现本身"。
5. **本步骤的价值**：将不确定、变化的任务要求转化为稳定的 AI 使用流程，显著降低任务变化带来的不确定性。
6. **可复用性判断**：高度可迁移，适用于不同任务与不同项目，模块定义与使用流程均可长期复用。

---

## 第四条：创建并验证前端代码审查模块

1. **阶段目标**：为前端项目生成一个"代码审查模块"，用于日常 PR 合并前的代码质量检查，要求偏工程化、可复用、避免一次性 checklist。

2. **输入给 AI 的关键信息**：
   - 初始需求：`需求目标：为前端项目生成一个"代码审查模块"，用于日常 PR 合并前的代码质量检查。使用场景：团队日常开发，代码评审阶段。模块类型：前端代码审查模块。约束偏好：偏工程化、可复用、避免一次性 checklist`
   - 复核模块审查：`@.cursor/skills/review-module.md 用复核模块看前端代码审查模块的内容，真实使用场景：中型前端项目，技术栈稳定，已有基础 code review 习惯。关注重点：是否过度复杂、是否混入具体业务执行`
   - 创建日期工具：`创建一个utils文件夹，封装一个date相关的format方法，然后要求代码审查模块如果日期格式化相关的必须优先走这个format方法`
   - 测试验证：`现在将HomePage中添加一个今日日期，（年月日）注意不要用util里面的方法，我的目的就是为了判断代码审查模块是否生效，我会在下一步去审查的`
   - 执行审查：`@.cursor/skills/code-review-module.md 请审查HomePage.vue代码`

3. **AI 的核心输出**：
   - 生成了 `code-review-module.md`，包含输入接口、输出结构、审查原则等完整框架
   - 复核模块审查发现：6个分类维度过度复杂、技术栈适配混入具体业务执行、输出结构过于详细等问题，建议简化
   - 根据审查结果简化了模板：合并为扁平化问题列表+分类标签、删除技术栈自动识别、精简输出结构为4个核心字段（位置、描述、严重程度、修复建议）、增加审查模式区分（快速/深度）
   - 创建了 `src/utils/date.ts` 日期格式化工具，包含 `formatDate()`, `formatMonth()`, `formatDateTime()`, `formatMonthName()`, `formatDateKey()` 等方法
   - 更新代码审查模块，添加"项目规范要求（必须遵守）"章节，明确日期格式化规范违反将标记为必须修复（阻止合并）
   - 在 HomePage.vue 中添加手动格式化日期的代码（使用 `getFullYear()`, `getMonth()`, `padStart()` 等，违反规范）
   - 使用代码审查模块审查 HomePage.vue，成功识别出日期格式化规范违反问题，标记为必须修复，并提供了具体的修复建议（使用 `formatDate()` 函数）

4. **我的判断与调整**：
   - 接受初始生成的代码审查模块模板
   - 接受复核模块的审查意见，要求修改简化
   - 接受修改后的简化版本
   - 要求创建日期格式化工具并更新审查规则
   - 故意添加违反规范的代码用于测试验证
   - 验证代码审查模块成功识别问题后，确认模块生效

5. **本步骤的价值**：
   - 建立了可复用的前端代码审查框架，支持日常 PR 审查，输出结构固定、可预测
   - 验证了"生成模块 → 复核模块审查 → 修改优化 → 测试验证"的完整流程有效性
   - 通过实际测试验证了代码审查模块能够正确识别项目规范违反问题，证明模块模板的实用性
   - 建立了项目级别的代码规范要求机制（日期格式化规范），可扩展用于其他规范
   - 证明了模块模板的工程化设计能够长期使用，而非一次性 checklist，符合"可复用、避免一次性"的要求

6. **可复用性判断**：
   - 代码审查模块框架可迁移到其他前端项目，只需调整"项目规范要求"部分即可适配不同项目的规范
   - 日期格式化工具可直接复用，工具函数设计通用
   - "生成 → 复核模块审查 → 优化 → 测试验证"的模块创建流程可应用于其他模块类型（如测试模块、文档模块等）
   - 项目规范要求机制可扩展用于其他代码规范（如 API 调用规范、错误处理规范、组件命名规范等）
   - 整个流程体现了"工程化、可复用"的设计理念，符合长期维护的需求
